<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>BASECAMP — Portfolio</title>

  <link rel="icon" type="image/png" sizes="32x32" href="favicon.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon.png">

  <style>
    :root{
      --page-max: 980px;

      /* Finder-like */
      --win-radius: 14px;
      --win-border: rgba(0,0,0,.12);
      --win-shadow: 0 20px 70px rgba(0,0,0,.18);
      --overlay: rgba(0,0,0,.22);

      --text: #111;
      --muted: rgba(17,17,17,.74);

      /* Folder */
      --folder-w: 85px;

      /* Marquee */
      --marquee-h: 64px;
      --marquee-gap: 34px;
    }

    html, body{
      margin: 0;
      background: #fff;
      font-family: 'Helvetica', sans-serif;
      color: var(--text);
    }

    .header-year{
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      padding: 10px 0;
      text-align: center;
      background: rgba(255,255,255,0.85);
      backdrop-filter: blur(6px);
      z-index: 10;
    }
    .header-year h2{
      margin: 0;
      font-weight: 700;
      font-size: 28px;
      letter-spacing: 0.06em;
    }

    .page{
      max-width: var(--page-max);
      margin: 0 auto;
      padding: 100px 20px 90px;
      box-sizing: border-box;
    }

    .back{
      text-decoration: none;
      color: var(--text);
      font-weight: 700;
      letter-spacing: 0.05em;
      font-size: 14px;
      text-transform: uppercase;
      display: inline-block;
      margin-bottom: 18px;
    }
    .back::after{
      content:"";
      display:block;
      height:2px;
      background: var(--text);
      transform:scaleX(0);
      transform-origin:left;
      transition:transform .25s ease;
      margin-top:6px;
    }
    .back:hover::after,
    .back:focus-visible::after{
      transform:scaleX(1);
    }

    /* ===== Basecamp marquee title ===== */
    .logo-marquee{
      margin: 10px 0 22px 0;
      width: 100%;
      user-select: none;
      -webkit-user-select: none;
      touch-action: pan-y; /* allow vertical scroll; we handle horizontal drag */
    }

    .marquee-viewport{
      height: var(--marquee-h);
      overflow: hidden;
      position: relative;
      cursor: grab;
    }
    .marquee-viewport:active{ cursor: grabbing; }

    .marquee-track{
      height: 100%;
      display: flex;
      align-items: center;
      gap: var(--marquee-gap);
      will-change: transform;
      transform: translate3d(0,0,0);
    }

    .marquee-item{
      flex: 0 0 auto;
      height: calc(var(--marquee-h) - 10px);
      width: auto;
      display: block;
      pointer-events: none; /* interaction is on the viewport */
    }

    /* subtle “mask” on edges for nicer look */
    .marquee-viewport::before,
    .marquee-viewport::after{
      content:"";
      position:absolute;
      top:0;
      width: 60px;
      height:100%;
      z-index: 2;
      pointer-events:none;
    }
    .marquee-viewport::before{
      left:0;
      background: linear-gradient(to right, #fff 0%, rgba(255,255,255,0) 100%);
    }
    .marquee-viewport::after{
      right:0;
      background: linear-gradient(to left, #fff 0%, rgba(255,255,255,0) 100%);
    }

    .text{
      max-width: 780px;
      line-height: 1.75;
      letter-spacing: 0.02em;
      color: var(--muted);
      font-size: clamp(13px, 1.6vw, 16px);
      margin: 0 0 58px 0;
      white-space: pre-line;
    }

    /* ===== Folders (MINIMAL) ===== */
    .folders{
      display: flex;
      gap: clamp(44px, 7vw, 88px);
      flex-wrap: wrap;
      align-items: flex-start;
    }

    .folder{
      border: 0;
      background: transparent;
      padding: 0;
      cursor: pointer;
      text-align: center;
      color: var(--text);
      font-family: inherit;
      user-select: none;
      -webkit-tap-highlight-color: transparent;
    }

    .folder:focus-visible{
      outline: none;
    }

    /* SOLO movimento in hover. Nessun filtro/overlay/ombra. */
    .folder-ico{
      width: var(--folder-w);
      display: grid;
      place-items: center;
      transition: transform 220ms ease;
      transform: translateZ(0);
    }

    .folder:hover .folder-ico{
      transform: translateY(-7px) scale(1.02);
    }

    .folder-img{
      width: 100%;
      height: auto;
      display: block;
      pointer-events: none;
    }

    .folder-label{
      margin-top: 14px;
      font-size: 14px;
      letter-spacing: 0.05em;
      text-transform: uppercase;
      font-weight: 700;
    }

    @media (max-width: 640px){
      :root{ --folder-w: 118px; --marquee-h: 58px; --marquee-gap: 28px; }
      .folders{ gap: 38px; }
      .marquee-viewport::before,
      .marquee-viewport::after{ width: 46px; }
    }

    /* ===== Modal (Finder window) ===== */
    .modal{
      position: fixed;
      inset: 0;
      background: var(--overlay);
      display: none;
      align-items: center;
      justify-content: center;
      padding: 22px;
      box-sizing: border-box;
      z-index: 999;
    }
    .modal.open{ display: flex; }

    .window{
      width: min(980px, 96vw);
      max-height: min(78vh, 760px);
      background: rgba(255,255,255,.92);
      border: 1px solid var(--win-border);
      border-radius: var(--win-radius);
      box-shadow: var(--win-shadow);
      overflow: hidden;
      backdrop-filter: blur(16px);
      transform: translateY(6px);
      opacity: 0;
      transition: transform 240ms ease, opacity 240ms ease;
    }
    .modal.open .window{
      transform: translateY(0);
      opacity: 1;
    }

    .titlebar{
      height: 46px;
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 0 14px;
      border-bottom: 1px solid rgba(0,0,0,.08);
      background: rgba(250,250,250,.6);
    }

    .traffic{
      display: flex;
      gap: 8px;
      align-items: center;
    }
    .dot-btn{
      width: 12px;
      height: 12px;
      border-radius: 999px;
      border: 0;
      padding: 0;
      cursor: pointer;
      box-shadow: inset 0 0 0 1px rgba(0,0,0,.10);
      background: transparent;
    }
    .dot-btn.red{ background: #ff5f57; }
    .dot-btn.yellow{ background: #febc2e; }
    .dot-btn.green{ background: #28c840; }

    .dot-btn:focus-visible{
      outline: 2px solid rgba(17,17,17,.35);
      outline-offset: 3px;
    }

    .win-title{
      margin-left: 4px;
      font-weight: 700;
      letter-spacing: 0.04em;
      text-transform: uppercase;
      font-size: 12px;
      color: rgba(17,17,17,.70);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .spacer{ flex: 1; }
    .close-btn{ display:none; }

    .content{
      padding: 18px;
      overflow: auto;
      max-height: calc(min(78vh, 760px) - 46px);
      box-sizing: border-box;
    }

    .grid{
      display: grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 12px;
    }

    .thumb{
      border-radius: 12px;
      overflow: hidden;
      border: 1px solid rgba(0,0,0,.10);
      background: #fff;
      aspect-ratio: 1 / 1;
      grid-column: span 4;
      cursor: zoom-in;
    }
    .thumb img{
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    @media (max-width: 900px){
      .thumb{ grid-column: span 6; }
    }
    @media (max-width: 560px){
      .thumb{ grid-column: span 12; }
    }

    .empty{
      display: none;
      padding: 18px 2px 8px;
      color: rgba(17,17,17,.65);
      font-size: 13px;
      letter-spacing: 0.02em;
    }

    /* ===== Image viewer (full-size) ===== */
    .viewer{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.55);
      display: none;
      align-items: center;
      justify-content: center;
      padding: 24px;
      box-sizing: border-box;
      z-index: 1001;
    }
    .viewer.open{ display:flex; }

    .viewer img{
      max-width: min(1200px, 96vw);
      max-height: 88vh;
      width: auto;
      height: auto;
      object-fit: contain;
      border-radius: 12px;
      box-shadow: 0 24px 90px rgba(0,0,0,.35);
      background: #fff;
    }

    @media (prefers-reduced-motion: reduce){
      .window, .modal.open .window{ transition: none; }
      .folder-ico{ transition: none; }
      /* marquee: no inertia animation */
    }
  </style>
</head>

<body>
  <header class="header-year">
    <h2>2026</h2>
  </header>

  <main class="page">
    <a class="back" href="index.html">Back</a>

    <!-- Replacing static logo with interactive marquee -->
    <div class="logo-marquee" aria-label="Basecamp logo marquee">
      <div class="marquee-viewport" id="marqueeViewport">
        <div class="marquee-track" id="marqueeTrack" aria-hidden="true">
          <!-- JS will duplicate enough items for seamless loop -->
          <img class="marquee-item" src="assets/basecamp-portfolio.png" alt="">
        </div>
      </div>
    </div>

    <p class="text">Born as an extension of Quercia, “BASECAMP” is a project that transfers the clubbing concept within high-altitude environments, giving birth to a new and experimental blend, very far from what traditional “après-ski” experiences provide.      
In occasion of the opening event, I created a tailored brand identity for the project:
The idea was to bring value to the landscape rather than the party enviroment, communicating through exploration gear codes. The aesthetic style in fact follows a very technical and contemporary feel — a necessary trait shared by all outdoor clothing brands — while being loyal to the old mountain world heritage, by hinting slight vintage references, as if the brand existed already for decades and had been alive ever since.
You will find a visual guide below.</p>

    <section class="folders" aria-label="Basecamp folders">
      <button class="folder" type="button" data-modal="moodboard" aria-label="Open moodboard folder">
        <div class="folder-ico" aria-hidden="true">
          <img class="folder-img" src="assets/icons/cartella-mac.svg" alt="" draggable="false">
        </div>
        <div class="folder-label">Moodboard</div>
      </button>

      <button class="folder" type="button" data-modal="gallery" aria-label="Open visual gallery folder">
        <div class="folder-ico" aria-hidden="true">
          <img class="folder-img" src="assets/icons/cartella-mac.svg" alt="" draggable="false">
        </div>
        <div class="folder-label">Visual Gallery</div>
      </button>
    </section>
  </main>

  <!-- Finder-like modal -->
  <div class="modal" id="modal" aria-hidden="true">
    <div class="window" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <div class="titlebar">
        <div class="traffic" aria-hidden="true">
          <button class="dot-btn red" type="button" id="macClose" aria-label="Close window"></button>
          <button class="dot-btn yellow" type="button" aria-label="Minimize window" disabled></button>
          <button class="dot-btn green" type="button" aria-label="Zoom window" disabled></button>
        </div>

        <div class="win-title" id="modalTitle">Folder</div>

        <div class="spacer"></div>
      </div>

      <div class="content">
        <div class="grid" id="modalGrid" aria-label="Folder content"></div>
        <div class="empty" id="emptyMsg">No files yet.</div>
      </div>
    </div>
  </div>

  <!-- Full image viewer -->
  <div class="viewer" id="viewer" aria-hidden="true">
    <img id="viewerImg" alt="">
  </div>

  <script>
    // ===== Interactive marquee physics =====
    (function initMarquee(){
      const prefersReduced = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;

      const viewport = document.getElementById('marqueeViewport');
      const track = document.getElementById('marqueeTrack');
      if (!viewport || !track) return;

      // Base autoplay speed (px/s). Negative = to left.
      let baseSpeed = prefersReduced ? 0 : -55;

      let x = 0;                 // current translateX
      let v = baseSpeed;         // current velocity (px/s)
      let lastT = performance.now();

      let isDown = false;
      let pointerId = null;
      let lastPX = 0;
      let lastMoveT = 0;
      let lastDX = 0;

      // friction / damping
      const friction = prefersReduced ? 1.0 : 0.92;   // velocity multiplier per frame-ish
      const maxV = 1800;                               // cap
      const holdDeadZoneMs = 80;                       // treat "hold" as no-move

      // We need enough items to loop seamlessly.
      const seed = track.querySelector('.marquee-item');
      const buildItems = () => {
        // reset to a single seed
        track.innerHTML = '';
        track.appendChild(seed);

        const vpW = viewport.clientWidth || 1;

        // measure one item width including gap
        const temp = seed.cloneNode(true);
        track.appendChild(temp);

        const gap = parseFloat(getComputedStyle(track).gap) || 0;
        const w1 = seed.getBoundingClientRect().width || 1;
        const itemStride = w1 + gap;

        // remove temp
        track.removeChild(temp);

        // number of items needed to cover viewport * 2 (buffer for looping)
        const need = Math.ceil((vpW * 2) / itemStride) + 2;

        for (let i = 0; i < need; i++){
          track.appendChild(seed.cloneNode(true));
        }

        const loopLen = itemStride * Math.ceil(need/2); // one "cycle" length
        return { itemStride, loopLen };
      };

      let geom = buildItems();

      const clamp = (n, a, b) => Math.max(a, Math.min(b, n));

      const apply = () => {
        track.style.transform = `translate3d(${x}px,0,0)`;
      };

      const normalize = () => {
        if (!geom.loopLen) return;
        while (x <= -geom.loopLen) x += geom.loopLen;
        while (x >= 0) x -= geom.loopLen;
      };

      const step = (t) => {
        const dt = Math.min(0.05, (t - lastT) / 1000);
        lastT = t;

        if (!isDown){
          v += (baseSpeed - v) * 0.05;
          x += v * dt;

          normalize();

          if (!prefersReduced){
            v *= Math.pow(friction, dt * 60);
          }
          apply();
        }

        requestAnimationFrame(step);
      };

      const onDown = (e) => {
        isDown = true;
        pointerId = e.pointerId;
        viewport.setPointerCapture?.(pointerId);

        v = 0;

        lastPX = e.clientX;
        lastMoveT = performance.now();
        lastDX = 0;
      };

      const onMove = (e) => {
        if (!isDown) return;
        if (pointerId !== null && e.pointerId !== pointerId) return;

        const now = performance.now();
        const dx = e.clientX - lastPX;

        x += dx;

        if (geom.loopLen){
          if (x <= -geom.loopLen) x += geom.loopLen;
          if (x >= 0) x -= geom.loopLen;
        }

        const dt = Math.max(0.001, (now - lastMoveT) / 1000);
        const instV = dx / dt; // (kept for feel, not used directly)
        void(instV);

        lastDX = dx;
        lastPX = e.clientX;
        lastMoveT = now;

        apply();
      };

      const onUp = (e) => {
        if (!isDown) return;
        if (pointerId !== null && e.pointerId !== pointerId) return;

        const now = performance.now();
        const sinceMove = now - lastMoveT;

        isDown = false;
        viewport.releasePointerCapture?.(pointerId);
        pointerId = null;

        if (sinceMove > holdDeadZoneMs || Math.abs(lastDX) < 1.5){
          v = 0;
          return;
        }

        const throwBoost = 1.0;
        v = clamp((lastDX / 0.016) * throwBoost, -maxV, maxV);
      };

      const onResize = () => {
        const prevLoop = geom.loopLen || 1;
        const ratio = x / prevLoop;

        geom = buildItems();

        x = ratio * (geom.loopLen || 1);
        if (geom.loopLen){
          if (x <= -geom.loopLen) x += geom.loopLen;
          if (x >= 0) x -= geom.loopLen;
        }
        apply();
      };

      viewport.addEventListener('pointerdown', onDown, { passive: true });
      viewport.addEventListener('pointermove', onMove, { passive: true });
      viewport.addEventListener('pointerup', onUp, { passive: true });
      viewport.addEventListener('pointercancel', onUp, { passive: true });
      window.addEventListener('resize', onResize);

      normalize();
      apply();
      requestAnimationFrame(step);
    })();

    // === Files (explicit list because GitHub Pages can't list directories) ===
    const MOODBOARD_FILES = [
      "065011bb3c186a3ab27e10cef7f607d3.jpg",
      "2233c5a7c15f18e6eaedab3ca22082d3.jpg",
      "22d136397e1c3126b9781daf998d1f96.jpg",
      "2458153ea08dc537a81fe71673c2ee54.jpg",
      "2bdb280f193f9b447dab9d3146270e21.jpg",
      "2eeb4c3679b3893455191395214cb89f.jpg",
      "408dc8579e7680f6778b0405ca58a457.jpg",
      "47b4119827a3ef60300558f3f2cc9500.jpg",
      "4cbd7b3c32333311309323b1d5d1f044.jpg",
      "4eaa2aea55d69b82242867a240b5492c.jpg",
      "5d982194a28eeb788a2d14bb50bafe69.jpg",
      "605b004edeb49908b8a4ae2f49885bd5.jpg",
      "6138194cf19eb41649fc5a5c0cacd3de.jpg",
      "6910813dab288196e35e35663eaa6b79.jpg",
      "77796030f43a85bbc128483a2bb73930.jpg",
      "7a2089c5c7078259db7bcdd43cb71837.jpg",
      "7da9d4d6f86b37f1e3317b54fe83c985.jpg",
      "821a08275e5ad7c9afab0027cad5681e.jpg",
      "885bfe206671a66b248cdb47f866b921.jpg",
      "98e2b5772e307833484d9417e075544b.jpg",
      "9a70cf623377377b73103571a2f42807.jpg",
      "9b234d130404d6ed40a401cb1b68525a.jpg",
      "9deac05ebe9f4aafd7a89bb31205a995.jpg",
      "Screenshot 2026-02-12 at 02.13.12.png",
      "b863f620146ab31da860d4c4cbf4cf08.jpg",
      "bb8b6270aeb21291c7e58b7503069d97.jpg",
      "c4781ec494a93c129a93ee919ad99897.jpg",
      "c8fb0c26adb0d2d7366933db5aa61640.jpg",
      "ca3815043b56aae88cf4dfbdf4e9bf0e.jpg",
      "d7de1fb083b6d43e277377a6f31cd41f.jpg",
      "f3f6034a592f48b77b48014a2345664b.jpg",
      "fa60f7f382f5ab7310649f1d7c01f324.jpg"
    ];

    const GALLERY_FILES = [
      "basecamp shooting 2.png",
      "basecamp shooting 7.png",
      "basecamp shooting 9.png",
      "basecamp shoting 10.png",
      "basecamp-ig.png",
      "flyer chalet.png",
      "quercia acg 3.png"
    ];

    const BASE_PATH = "assets/basecamp/";
    const PATHS = {
      moodboard: BASE_PATH + "moodboard/",
      gallery: BASE_PATH + "gallery/"
    };

    const modal = document.getElementById('modal');
    const macClose = document.getElementById('macClose');
    const modalTitle = document.getElementById('modalTitle');
    const modalGrid = document.getElementById('modalGrid');
    const emptyMsg = document.getElementById('emptyMsg');

    const viewer = document.getElementById('viewer');
    const viewerImg = document.getElementById('viewerImg');

    const safeUrl = (folderPath, filename) => {
      return folderPath + encodeURIComponent(filename).replace(/%2F/g, "/");
    };

    const openViewer = (src) => {
      viewerImg.src = src;
      viewer.classList.add('open');
      viewer.setAttribute('aria-hidden', 'false');
    };

    const closeViewer = () => {
      viewer.classList.remove('open');
      viewer.setAttribute('aria-hidden', 'true');
      viewerImg.src = "";
    };

    const buildGrid = (files, folderPath) => {
      modalGrid.innerHTML = "";
      emptyMsg.style.display = files.length ? "none" : "block";

      files.forEach((name) => {
        const src = safeUrl(folderPath, name);

        const wrap = document.createElement("div");
        wrap.className = "thumb";
        wrap.setAttribute("role", "button");
        wrap.setAttribute("tabindex", "0");
        wrap.setAttribute("aria-label", "Open image");

        const img = document.createElement("img");
        img.src = src;
        img.alt = "";

        wrap.appendChild(img);
        modalGrid.appendChild(wrap);

        wrap.addEventListener("click", () => openViewer(src));
        wrap.addEventListener("keydown", (e) => {
          if (e.key === "Enter" || e.key === " ") {
            e.preventDefault();
            openViewer(src);
          }
        });
      });
    };

    const openModal = (type) => {
      modalTitle.textContent = (type === 'moodboard') ? 'Moodboard' : 'Visual Gallery';

      if (type === "moodboard") buildGrid(MOODBOARD_FILES, PATHS.moodboard);
      if (type === "gallery") buildGrid(GALLERY_FILES, PATHS.gallery);

      modal.classList.add('open');
      modal.setAttribute('aria-hidden', 'false');
      document.body.style.overflow = 'hidden';
    };

    const closeModal = () => {
      modal.classList.remove('open');
      modal.setAttribute('aria-hidden', 'true');
      document.body.style.overflow = '';
      closeViewer();
    };

    document.querySelectorAll('.folder').forEach(btn => {
      btn.addEventListener('click', () => openModal(btn.dataset.modal));
    });

    macClose.addEventListener('click', closeModal);

    modal.addEventListener('mousedown', (e) => {
      if (e.target === modal) closeModal();
    });

    viewer.addEventListener('mousedown', (e) => {
      if (e.target === viewer) closeViewer();
    });

    window.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        if (viewer.classList.contains('open')) closeViewer();
        else if (modal.classList.contains('open')) closeModal();
      }
    });
  </script>
</body>
</html>
